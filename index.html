<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>NARUTO SHIPPUDEN - Console V19 (Tab Ngang)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <style>
      
        @keyframes soft-glow-red {
            0%, 100% { box-shadow: 0 0 8px rgba(255, 0, 0, 0.5), 0 0 15px rgba(255, 0, 0, 0.3); }
            50% { box-shadow: 0 0 25px rgba(255, 50, 50, 0.8), 0 0 40px rgba(255, 0, 0, 0.6); }
        }
        @keyframes background-subtle-pulse {
            0%, 100% { background-color: #1a1a1a; }
            50% { background-color: #1f1f1f; }
        }
        @keyframes glitch-shake {
            0%, 100% { transform: translate(0, 0); }
            20% { transform: translate(-1px, 1px); }
            40% { transform: translate(1px, -1px); }
            60% { transform: translate(-0.5px, -0.5px); }
            80% { transform: translate(0.5px, 0.5px); }
        }

        body { 
            font-family: 'Orbitron', sans-serif; 
            background: #000; 
            color: #e0e0e0; 
            display: flex; 
            align-items: flex-start; 
            justify-content: center; 
            min-height: 100vh; 
            padding-top: 8rem; /* Giảm padding top một chút */
            background-image: radial-gradient(circle at center, rgba(255, 0, 0, 0.05) 0%, transparent 70%);
        }
        
      
        .main-button { 
            background: linear-gradient(135deg, #ff3333, #cc0000); 
            transition: all 0.3s ease; animation: soft-glow-red 2.5s infinite ease-in-out; 
            letter-spacing: 1px; 
            text-shadow: 0 0 5px #000; 
            border-radius: 1.5rem; 
            border: 2px solid #ff6666;
            font-weight: 700;
        }
        #fixed-header {
            position: fixed; top: 0; left: 0; right: 0; background: rgba(0, 0, 0, 0.98);
            padding: 0.5rem 0; z-index: 50; border-bottom: 2px solid #ff0000;
            box-shadow: 0 4px 15px rgba(255, 0, 0, 0.5); display: flex; flex-direction: column; align-items: center;
        }
        
        #main-tabs {
            display: flex; /* Bố cục ngang */
            width: 100%; 
            max-width: 420px; /* Chiều rộng tối đa bằng panel */
            padding: 0 1rem;
            margin-top: 0.75rem; /* Khoảng cách với logo */
            box-sizing: border-box;
        }

       /* Style cho từng nút Tab */
        .tab-button {
            flex-grow: 1; 
            padding: 0.75rem 0; 
            margin: 0 5px; 
            border: 1px solid #333; 
            border-radius: 0.75rem; 
            font-size: 0.8rem; 
            font-weight: bold; 
            cursor: pointer;
            transition: all 0.3s ease; 
            color: #ff6666; 
            background: #1a1a1a;
        }
        .tab-button.active { 
            background: linear-gradient(135deg, #ff0000, #cc0000); 
            color: #fff; 
            border-color: #ffaa00; 
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.8);
            transform: scale(1.02);
        }

        
        .panel-bg { 
            position: relative; 
            background: #1a1a1a;
            border: 2px solid #ff0000; 
            border-radius: 2.5rem; 
            box-shadow: 0 0 40px rgba(255, 0, 0, 0.4); 
            width: 100%; max-width: 420px; 
            margin-bottom: 80px; overflow: hidden; 
            animation: background-subtle-pulse 7s infinite; 
            padding: 1.5rem;
        }

        .section-title {
             color: #ff6666; 
             border-bottom: 2px solid #333; 
             padding-bottom: 0.5rem;
             margin-bottom: 1rem; 
             font-size: 1.6rem; 
             font-weight: 700;
             text-shadow: 0 0 8px rgba(255, 0, 0, 0.6); 
             animation: glitch-shake 1.5s infinite;
        }
        
        .feature-item { 
            display: flex; align-items: center; justify-content: space-between; 
            padding: 0.75rem 0.5rem; transition: all 0.2s ease-in-out; 
            cursor: pointer; border-radius: 0.75rem; border-left: 4px solid transparent;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5); margin-bottom: 0.5rem;
            background-color: #222; 
        }
        .feature-item.active-glitch {
             border-left-color: #ffaa00 !important;
             box-shadow: 0 0 10px rgba(255, 170, 0, 0.5); 
             animation: glitch-shake 0.5s infinite; 
        }
        .feature-icon { 
            color: #ff6666; 
            text-shadow: none; 
            font-size: 1.2rem; margin-right: 0.75rem; width: 30px; text-align: center; 
        }

        .bottom-nav {
            position: fixed; bottom: 0; left: 0; right: 0; z-index: 60;
            display: flex; justify-content: space-around; padding: 0.5rem 0;
            background: rgba(0, 0, 0, 0.95); border-top: 2px solid #ff0000;
            box-shadow: 0 -4px 15px rgba(255, 0, 0, 0.5);
        }
    </style>
</head>
<body class="flex flex-col items-center justify-start min-h-screen">

    <div id="fixed-header">
        <div class="text-center">
            <img src="https://i.postimg.cc/4NFC1Kpc/IMG-2417.jpg" alt="Naruto Shippuden Logo" class="naruto-logo inline-block h-10 filter drop-shadow-[0_0_5px_rgba(255,0,0,0.8)]">
            <p class="text-red-500 text-xs font-bold mt-1">NARUTO SHIPPUDEN</p>
        </div>

        <div id="main-tabs">
            <button id="tab-config" class="tab-button active">
                <i class="fas fa-desktop mr-1"></i> CẤU HÌNH HỆ THỐNG
            </button>
            <button id="tab-function" class="tab-button">
                <i class="fas fa-rocket mr-1"></i> CHỨC NĂNG TỐI ƯU
            </button>
        </div>
    </div>

    <div id="main-container" class="panel-bg p-6 w-full max-w-lg mt-8">
        
        <div id="config-panel" class="space-y-6">
            <h1 class="section-title text-center text-3xl">⚙️ CẤU HÌNH HỆ THỐNG</h1>

            <div class="feature-card space-y-3">
                <h3 class="text-red-300 font-bold border-b border-[#333] pb-2">Thông Tin Thiết Bị</h3>
                 <div class="config-item text-gray-300 flex justify-between items-center">
                    <span class="font-medium flex items-center"><i class="fas fa-desktop mr-3 text-red-400"></i>Thiết Bị:</span>
                    <span id="device-info" class="text-sm text-red-300 font-bold glitch-text">Windows/Android</span>
                </div>
                <div class="config-item text-gray-300 flex justify-between items-center">
                    <span class="font-medium flex items-center"><i class="fas fa-microchip mr-3 text-red-400"></i>CPU/RAM:</span>
                    <span id="ram-used" class="text-sm text-red-300 font-bold">4.5 GB / 8 GB</span>
                </div>
                <div class="config-item text-gray-300 flex justify-between items-center">
                    <span class="font-medium flex items-center"><i class="fas fa-hdd mr-3 text-red-400"></i>Bộ Nhớ Trống:</span>
                    <span id="storage-free" class="text-sm text-red-300 font-bold">45 GB / 128 GB</span>
                </div>
                <div class="config-item text-gray-300 flex justify-between items-center">
                    <span class="font-medium flex items-center"><i class="fas fa-clock mr-3 text-red-400"></i>Thời gian Key:</span>
                    <span id="key-expiry-info" class="text-sm text-red-300 font-bold">6 ngày 23h</span>
                </div>
                <button id="optimize-setting-button" class="main-button glitch-button w-full py-4 mt-4 text-sm font-bold">
                    TỐI ƯU CẤU HÌNH HỆ THỐNG 
                </button>
            </div>
            
            <div class="feature-card space-y-3">
                <h3 class="text-red-300 font-bold border-b border-[#333] pb-2">OPTIMIZE DEVICE PERFORMANCE</h3>
                
                <div class="feature-item" id="sys-ram-cleaner">
                    <div class="flex items-center">
                        <span class="feature-icon"><i class="fas fa-memory"></i></span>
                        <span class="feature-name">RAM CLEANER</span>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature" data-feature-name="RAM Cleaner">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="sys-junk-remover">
                    <div class="flex items-center">
                        <span class="feature-icon"><i class="fas fa-trash-alt"></i></span>
                        <span class="feature-name">JUNK FILE REMOVER</span>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature" data-feature-name="Junk File Remover">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="sys-display-boost">
                    <div class="flex items-center">
                        <span class="feature-icon"><i class="fas fa-palette"></i></span>
                        <span class="feature-name">DISPLAY BOOST</span>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature" data-feature-name="Display Booster">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="sys-ping-optimizer">
                    <div class="flex items-center">
                        <span class="feature-icon"><i class="fas fa-wifi"></i></span>
                        <span class="feature-name">NETWORK PING OPTIMIZER</span>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature" data-feature-name="Optimize Ping">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="sys-disable-av">
                    <div class="flex items-center">
                        <span class="feature-icon"><i class="fas fa-shield-alt"></i></span>
                        <span class="feature-name">DISABLE ANTIVIRUS</span>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature" data-feature-name="Disable AV">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="sys-cpu-priority">
                    <div class="flex items-center">
                        <span class="feature-icon"><i class="fas fa-microchip"></i></span>
                        <span class="feature-name">CPU PRIORITY SETTER</span>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature" data-feature-name="CPU Priority">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="sys-app-killer">
                    <div class="flex items-center">
                        <span class="feature-icon"><i class="fas fa-times-circle"></i></span>
                        <span class="feature-name">BACKGROUND APP KILLER</span>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature" data-feature-name="App Killer">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="sys-turbo-mode">
                    <div class="flex items-center">
                        <span class="feature-icon"><i class="fas fa-bolt"></i></span>
                        <span class="feature-name">TURBO POWER MODE</span>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature" data-feature-name="Turbo Mode">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
            </div>
            
        </div>
        
        <div id="function-panel" class="space-y-6 hidden">
            <h1 class="section-title text-center text-3xl">⚔️ CHỨC NĂNG TỐI ƯU</h1>
            
            <div class="mb-6 p-4 bg-[#282828] rounded-2xl border border-[#ff0000] text-center shadow-red-500/50 shadow-xl">
                <h2 class="text-xl font-semibold mb-4 text-red-300">Khởi chạy game & Tối ưu</h2>
                <div class="flex items-center justify-center space-x-4 mb-4">
                    <img id="game-icon" src="https://i.postimg.cc/N0LYBt0W/IMG-2291.jpg" alt="Logo Garena Free Fire" class="h-12 w-12 rounded-lg transform hover:scale-110 transition-transform duration-300">
                </div>
                <button id="open-game-button" class="main-button glitch-button text-white font-extrabold w-full py-4 flex items-center justify-center space-x-2">
                    <span id="button-text" class="text-lg">TỐI ƯU & MỞ GARENA FREE FIRE</span>
                    <i id="loading-spinner" class="fas fa-sync fa-spin text-xl hidden"></i>
                </button>
            </div>

            <div class="feature-card space-y-4">
                <h3 class="text-red-300 font-bold border-b border-[#333333] pb-2 text-center">Naruto Shippuden Headshot Function</h3>
                
                <div class="feature-item" id="game-fps-booster">
                    <div class="flex items-center"><span class="feature-icon"><i class="fas fa-tachometer-alt"></i></span><span class="feature-name">FPS BOOSTER</span></div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature-ingame" data-feature-name="FPS Booster">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="game-performance-opt">
                    <div class="flex items-center"><span class="feature-icon"><i class="fas fa-cogs"></i></span><span class="feature-name">PERFORMANCE OPTIMIZER</span></div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature-ingame" data-feature-name="Performance Optimizer">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="game-lag-fixer">
                    <div class="flex items-center"><span class="feature-icon"><i class="fas fa-bolt"></i></span><span class="feature-name">LAG FIXER</span></div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature-ingame" data-feature-name="Lag Fixer">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="game-aimlock">
                    <div class="flex items-center"><span class="feature-icon"><i class="fas fa-crosshairs"></i></span><span class="feature-name">AIMLOCK</span></div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature-ingame" data-feature-name="Aimlock">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="game-headlock">
                    <div class="flex items-center"><span class="feature-icon"><i class="fas fa-head-side-mask"></i></span><span class="feature-name">HEADLOCK</span></div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature-ingame" data-feature-name="Headlock">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="game-superlock">
                    <div class="flex items-center"><span class="feature-icon"><i class="fas fa-lock"></i></span><span class="feature-name">SUPERLOCK</span></div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature-ingame" data-feature-name="Superlock">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="game-magic-bullet">
                    <div class="flex items-center"><span class="feature-icon"><i class="fas fa-hat-wizard"></i></span><span class="feature-name">MAGIC BULLET</span></div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature-ingame" data-feature-name="Magic Bullet">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
                <div class="feature-item" id="game-recoil-reducer">
                    <div class="flex items-center"><span class="feature-icon"><i class="fas fa-fire-extinguisher"></i></span><span class="feature-name">RECOIL REDUCER(</span></div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer toggle-feature-ingame" data-feature-name="Recoil Reducer">
                        <div class="w-14 h-7 rounded-full peer toggle-switch-bg after:absolute after:top-1 after:left-1 after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                    </label>
                </div>
            </div>
            
        </div>
    </div>
    <div id="message-box" class="fixed inset-0 z-50 bg-black bg-opacity-80 flex items-center justify-center hidden">
        <div class="message-box bg-[#1a1a1a] p-8 rounded-xl shadow-2xl border-2 border-red-500 max-w-sm text-center">
            <p id="message-text" class="text-gray-200 text-lg mb-4">
                <span class="text-red-400 text-xl font-bold mb-4 block" style="font-family: 'Orbitron', sans-serif;">HƯỚNG DẪN SỬ DỤNG</span><br>
                1. LIÊN HỆ ADMIN LẤY KEY KÍCH HOẠT<br>
                2. NHẬP KEY VÀO Ô ĐỂ MỞ MENU<br>
                3. BẤM "TỐI ƯU" Ở PHẦN CHỨC NĂNG TỐI ƯU ĐỂ TỰ ĐỘNG TỐI ƯU TẤT CẢ VÀ TRẢI NGHIỆM SAU KHI BẤM TỐI ƯU 
            </p>
            <button id="close-message" class="main-button text-white font-bold py-2 px-6 rounded-full mt-4">Đóng</button>
        </div>
    </div>

    <div class="bottom-nav">
        <button id="nav-home">
            <i class="fas fa-home"></i>
            <p>Trang Chủ</p>
        </button>
        <button id="nav-guide">
            <i class="fas fa-info-circle"></i>
            <p>Hướng Dẫn</p>
        </button>
        <button id="nav-admin">
            <i class="fas fa-user-shield"></i>
            <p>Admin</p>
        </button>
    </div>

    <script>
        
        let isFreeFireInstalled = true; 

        document.addEventListener('DOMContentLoaded', () => {
            const tabConfig = document.getElementById('tab-config');
            const tabFunction = document.getElementById('tab-function');
            const configPanel = document.getElementById('config-panel');
            const functionPanel = document.getElementById('function-panel');
            const optimizeSettingButton = document.getElementById('optimize-setting-button');
            const openGameButton = document.getElementById('open-game-button');
            const messageBox = document.getElementById('message-box');
            const closeMessageButton = document.getElementById('close-message');
            
            const allSettingToggles = document.querySelectorAll('#config-panel .toggle-feature');
            const allFunctionToggles = document.querySelectorAll('#function-panel .toggle-feature-ingame');
            
            const buttonText = document.getElementById('button-text');
            const loadingSpinner = document.getElementById('loading-spinner');

            
            const showNotification = (title, message, icon) => {
                const swalOptions = {
                    title: title,
                    text: message,
                    icon: icon,
                    showConfirmButton: true,
                    confirmButtonText: 'OK', 
                    toast: false,
                    position: 'center',
                };
                return Swal.fire(swalOptions);
            };

            // --- Feature Toggle Logic ---
            const setupFeatureToggles = (toggles, featureItems) => {
                toggles.forEach((checkbox, index) => {
                    const featureItem = featureItems[index]; 
                    checkbox.addEventListener('change', () => {
                        if (checkbox.checked) {
                            featureItem.classList.add('active-glitch');
                        } else {
                            featureItem.classList.remove('active-glitch');
                        }
                    });
                    if (checkbox.checked) {
                        featureItem.classList.add('active-glitch');
                    }
                });
            };

            const systemFeatureItems = document.querySelectorAll('#config-panel .feature-item');
            setupFeatureToggles(allSettingToggles, systemFeatureItems);
            
            const gameFeatureItems = document.querySelectorAll('#function-panel .feature-item');
            setupFeatureToggles(allFunctionToggles, gameFeatureItems);

            
            const switchPanel = (panelId) => {
                tabConfig.classList.remove('active');
                tabFunction.classList.remove('active');
                configPanel.classList.add('hidden');
                functionPanel.classList.add('hidden');

                if (panelId === 'config') {
                    tabConfig.classList.add('active');
                    configPanel.classList.remove('hidden');
                } else if (panelId === 'function') {
                    tabFunction.classList.add('active');
                    functionPanel.classList.remove('hidden');
                }
            };
            tabConfig.addEventListener('click', () => switchPanel('config'));
            tabFunction.addEventListener('click', () => switchPanel('function'));
            switchPanel('config');


            optimizeSettingButton.addEventListener('click', () => {
                optimizeSettingButton.textContent = 'Đang Tối Ưu [SYSTEM]...';
                optimizeSettingButton.disabled = true;
                optimizeSettingButton.style.animation = 'glitch-shake 0.1s infinite'; 
                allSettingToggles.forEach(checkbox => {
                    checkbox.checked = true;
                    checkbox.dispatchEvent(new Event('change'));
                });

                setTimeout(() => {
                    optimizeSettingButton.textContent = '✅ CẤU HÌNH HỆ THỐNG ĐÃ SẴN SÀNG';
                    optimizeSettingButton.classList.add('flash-active');
                    optimizeSettingButton.style.animation = 'none';

                    showNotification('✅ Tối Ưu Hoàn Tất!', '8 Chức năng hệ thống đã được kích hoạt. Hãy khởi chạy game!', 'success');

                    setTimeout(() => {
                        optimizeSettingButton.classList.remove('flash-active');
                        optimizeSettingButton.textContent = 'TỐI ƯU CẤU HÌNH HỆ THỐNG TỔNG HỢP';
                        optimizeSettingButton.disabled = false;
                        optimizeSettingButton.style.animation = 'soft-glow-red 2.5s infinite ease-in-out';
                    }, 1500);
                }, 2000); 
            });
            
            
            openGameButton.addEventListener('click', () => {
                
                if (!isFreeFireInstalled) {
                    showNotification('⚠️ Cảnh Báo!', 'Game Free Fire chưa được phát hiện trên thiết bị. Vui lòng cài đặt trước khi tối ưu.', 'warning');
                    return; 
                }
                
                
                buttonText.textContent = 'Đang Tối Ưu In-Game...';
                loadingSpinner.classList.remove('hidden');
                openGameButton.disabled = true;
                openGameButton.style.animation = 'glitch-shake 0.05s infinite'; 

                
                allFunctionToggles.forEach(checkbox => {
                    checkbox.checked = true;
                    checkbox.dispatchEvent(new Event('change'));
                });
                
                setTimeout(() => {
                    window.location.href = 'garenafreefire://'; 
                    showNotification('🚀 Lệnh Chuyển Game!', 'Tất cả 8 chức năng đã kích hoạt. Hệ thống đang cố gắng mở Free Fire.', 'success');
                    buttonText.textContent = 'TỐI ƯU & MỞ GARENA FREE FIRE';
                    loadingSpinner.classList.add('hidden');
                    openGameButton.disabled = false;
                    openGameButton.style.animation = 'soft-glow-red 2.5s infinite ease-in-out';
                    gameFeatureItems.forEach(item => item.classList.remove('active-glitch'));
                    allFunctionToggles.forEach(checkbox => checkbox.checked = false);
                        
                }, 2500);
            });
            const adminButton = document.getElementById('nav-admin');
            closeMessageButton.addEventListener('click', () => {
                messageBox.classList.add('hidden');
            });
            document.getElementById('nav-home').addEventListener('click', () => {
                 switchPanel('config');
            });
            document.getElementById('nav-guide').addEventListener('click', () => {
                 messageBox.classList.remove('hidden');
            });
            
            adminButton.addEventListener('click', () => {
                 window.open('https://linkbio.co/anhquan1', '_blank');
            });
        });
    </script>
</body>
</html>
